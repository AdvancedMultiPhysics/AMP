SET( PROJ AMP )
INCLUDE( "${AMP_SOURCE_DIR}/cmake/macros.cmake" )
INCLUDE( "${AMP_SOURCE_DIR}/cmake/configureAMP.cmake" )
SET_AMP_PACKAGE_FLAGS()

BEGIN_PACKAGE_CONFIG( solvers )
ADD_PACKAGE_SUBDIRECTORY( newFrozenVectorDesign )
IF ( USE_EXT_DENDRO )
    ADD_PACKAGE_SUBDIRECTORY( contact )
ENDIF()
IF( USE_EXT_PETSC AND USE_EXT_TRILINOS )
    ADD_PACKAGE_SUBDIRECTORY( petsc )
ELSEIF ( USE_EXT_PETSC )
    # Note: currently petsc matricies require trilinos, this needs to be fixed
    MESSAGE( STATUS "Disabling PETSc operators without support for PETSc matricies" )
ENDIF()
IF ( USE_EXT_TRILINOS )
    ADD_PACKAGE_SUBDIRECTORY( trilinos )
    IF( USE_TRILINOS_NOX )
        ADD_PACKAGE_SUBDIRECTORY( trilinos/nox )
    ENDIF()
    IF( USE_TRILINOS_THYRA )
        ADD_PACKAGE_SUBDIRECTORY( trilinos/thyra )
    ENDIF()
ENDIF()
IF( USE_EXT_LIBMESH AND USE_EXT_PETSC AND USE_EXT_TRILINOS )
    ADD_PACKAGE_SUBDIRECTORY( libmesh )
ENDIF()
INSTALL_AMP_TARGET( solvers )

ADD_SUBDIRECTORY( test )
ADD_SUBDIRECTORY( newFrozenVectorDesign/test )


